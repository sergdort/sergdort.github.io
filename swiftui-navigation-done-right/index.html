<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.15.0"/><meta name="theme-color" content="#663399"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" data-gatsby-head="true"/><meta name="description" content="When building highly modular iOS apps, one challenge stands out: how do you handle navigation without coupling your feature modules to specific implementation…" data-gatsby-head="true"/><meta property="og:title" content="SwiftUI Navigation Done Right | Journey before destination, tests before production" data-gatsby-head="true"/><meta property="og:description" content="When building highly modular iOS apps, one challenge stands out: how do you handle navigation without coupling your feature modules to specific implementation…" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta name="twitter:card" content="summary" data-gatsby-head="true"/><meta name="twitter:creator" content="Serg Dort" data-gatsby-head="true"/><meta name="twitter:title" content="SwiftUI Navigation Done Right | Journey before destination, tests before production" data-gatsby-head="true"/><meta name="twitter:description" content="When building highly modular iOS apps, one challenge stands out: how do you handle navigation without coupling your feature modules to specific implementation…" data-gatsby-head="true"/><style data-href="/styles.953cc786368e91057aee.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}*{box-sizing:border-box}body,html{margin:0;overflow-x:hidden;padding:0;width:100%}@media (max-width:768px){body{font-size:16px}main img{height:auto;max-width:100%}pre[class*=language-]{border-radius:0;margin-left:-1rem;margin-right:-1rem;max-width:100%;overflow-x:auto;padding-left:1rem!important;padding-right:1rem!important}code{word-wrap:break-word;overflow-wrap:break-word}table{display:block;overflow-x:auto;white-space:nowrap}h1{word-wrap:break-word;font-size:1.8rem;line-height:1.2}h2{font-size:1.5rem}h2,h3{word-wrap:break-word;line-height:1.3}h3{font-size:1.3rem}}@media (max-width:480px){body{font-size:15px}h1{font-size:1.6rem}h2{font-size:1.4rem}h3{font-size:1.2rem}}img{height:auto}iframe,img{max-width:100%}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="alternate" type="application/rss+xml" title="Serg Dort&#x27;s Blog RSS Feed" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=87842467b72dd90d1ebdb463dad971b8" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=87842467b72dd90d1ebdb463dad971b8"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=87842467b72dd90d1ebdb463dad971b8"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=87842467b72dd90d1ebdb463dad971b8"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=87842467b72dd90d1ebdb463dad971b8"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=87842467b72dd90d1ebdb463dad971b8"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=87842467b72dd90d1ebdb463dad971b8"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=87842467b72dd90d1ebdb463dad971b8"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=87842467b72dd90d1ebdb463dad971b8"/><style>html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}</style><title data-gatsby-head="true">SwiftUI Navigation Done Right | Journey before destination, tests before production | Journey before destination, tests before production</title></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:52.5rem;padding:2.625rem max(1.3125rem, min(5vw, 1.75rem));width:100%;box-sizing:border-box"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">Journey before destination, tests before production</a></h3></header><main><article itemscope="" itemType="http://schema.org/Article"><header><h1 style="margin-top:1.75rem;margin-bottom:0" itemProp="headline">SwiftUI Navigation Done Right</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:0.875rem">January 12, 2026</p><div style="margin-bottom:1.75rem"><a style="display:inline-block;background-color:#f0f0f0;color:#333;padding:0.2rem 0.6rem;margin-right:0.5rem;margin-bottom:0.5rem;border-radius:3px;font-size:0.85rem;text-decoration:none;box-shadow:none" href="/tags/swiftui/">SwiftUI</a><a style="display:inline-block;background-color:#f0f0f0;color:#333;padding:0.2rem 0.6rem;margin-right:0.5rem;margin-bottom:0.5rem;border-radius:3px;font-size:0.85rem;text-decoration:none;box-shadow:none" href="/tags/ios/">iOS</a><a style="display:inline-block;background-color:#f0f0f0;color:#333;padding:0.2rem 0.6rem;margin-right:0.5rem;margin-bottom:0.5rem;border-radius:3px;font-size:0.85rem;text-decoration:none;box-shadow:none" href="/tags/architecture/">architecture</a><a style="display:inline-block;background-color:#f0f0f0;color:#333;padding:0.2rem 0.6rem;margin-right:0.5rem;margin-bottom:0.5rem;border-radius:3px;font-size:0.85rem;text-decoration:none;box-shadow:none" href="/tags/navigation/">navigation</a></div></header><section itemProp="articleBody"><p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/2de6f55240957fd698de290423de9494/22bc6/swiftui-navigation-done-right.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 83.78378378378379%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMCBAX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAHm7/P3rEFU6S0CiGf/xAAbEAACAgMBAAAAAAAAAAAAAAABAgARAxASQv/aAAgBAQABBQJVKzOLQg2t1006no6//8QAGREAAgMBAAAAAAAAAAAAAAAAADEBAhAh/9oACAEDAQE/AXJwqs//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8Byo//xAAdEAABBAIDAAAAAAAAAAAAAAAAAQIRIVGBEDFx/9oACAEBAAY/Ampsah2XgwXEmx3nH//EABwQAAIDAQADAAAAAAAAAAAAAAERACExQRBRcf/aAAgBAQABPyHArFIbfCjSSACTTbGAFGnty+g6g8V4Pk//2gAMAwEAAgADAAAAENcXvv/EABsRAAIBBQAAAAAAAAAAAAAAAAABEBEhMVGx/9oACAEDAQE/EG7iKa9ieT//xAAZEQADAAMAAAAAAAAAAAAAAAAAASEQMVH/2gAIAQIBAT8QUVL3HRH/xAAgEAEBAAEEAgMBAAAAAAAAAAABEQAhMUFxUbFhgaHB/9oACAEBAAE/EELCD20fhxgEbjqDefrByUukEDqZrzsxFCwO3xivCHUCN49ZAGSNXL5Jxm91/ueh7MPzZ//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="navigation"
        title=""
        src="/static/2de6f55240957fd698de290423de9494/1c72d/swiftui-navigation-done-right.jpg"
        srcset="/static/2de6f55240957fd698de290423de9494/a80bd/swiftui-navigation-done-right.jpg 148w,
/static/2de6f55240957fd698de290423de9494/1c91a/swiftui-navigation-done-right.jpg 295w,
/static/2de6f55240957fd698de290423de9494/1c72d/swiftui-navigation-done-right.jpg 590w,
/static/2de6f55240957fd698de290423de9494/22bc6/swiftui-navigation-done-right.jpg 782w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>When building highly modular iOS apps, one challenge stands out: how do you handle navigation without coupling your feature modules to specific implementation details? After experimenting with various approaches, I’ve settled on a pattern that provides both flexibility and testability while keeping concerns properly separated.</p>
<h2>The Problem with Traditional Navigation</h2>
<p>In typical SwiftUI apps, navigation often happens directly within feature views. You’ll see <code class="language-text">NavigationStack</code> wrapping views, and navigation state scattered throughout your feature code. While this works for simple apps, it creates several problems:</p>
<ol>
<li><strong>Tight coupling</strong>: Features become dependent on SwiftUI’s navigation APIs</li>
<li><strong>Limited flexibility</strong>: Changing navigation strategies requires modifying feature code</li>
<li><strong>Testing difficulties</strong>: Navigation logic becomes harder to test in isolation</li>
<li><strong>Context limitations</strong>: Individual features lack awareness of the broader navigation hierarchy</li>
<li><strong>Cross-feature navigation nightmares</strong>: In modularized apps, showing a screen from Feature B within Feature A’s flow becomes an architectural puzzle, leading to awkward workarounds and feature interdependencies</li>
</ol>
<h2>The Coordinator Protocol Pattern</h2>
<p>My solution delegates all navigation decisions to the Application layer through protocol-based coordinators. Here’s how it works:</p>
<h3>In the Feature Module</h3>
<p>Features define navigation requirements as protocols, without implementation:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token attribute atrule">@MainActor</span>
<span class="token keyword">public</span> <span class="token keyword">protocol</span> <span class="token class-name">GroupsCoordinator</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function-definition function">detail</span><span class="token punctuation">(</span><span class="token keyword">for</span> group<span class="token punctuation">:</span> <span class="token class-name">SpendidDomain</span><span class="token punctuation">.</span><span class="token class-name">Group</span><span class="token punctuation">)</span>
    <span class="token keyword">func</span> <span class="token function-definition function">create</span><span class="token punctuation">(</span>didCreate<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token class-name">Group</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Feature views receive coordinators through dependency injection:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">public</span> <span class="token keyword">struct</span> <span class="token class-name">GroupsListView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">let</span> coordinator<span class="token punctuation">:</span> <span class="token class-name">GroupsCoordinator</span>
    
    <span class="token keyword">public</span> <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token punctuation">(</span>groups<span class="token punctuation">)</span> <span class="token punctuation">{</span> group <span class="token keyword">in</span>
            <span class="token class-name">GroupRowView</span><span class="token punctuation">(</span>group<span class="token punctuation">:</span> group<span class="token punctuation">)</span>
                <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">{</span>
                    coordinator<span class="token punctuation">.</span><span class="token function">detail</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> group<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Split The Bill"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Notice that <code class="language-text">GroupsListView</code> <strong>never wraps itself in a NavigationStack</strong>. It simply delegates navigation as a side effect to the coordinator. The view doesn’t know or care how navigation is implemented—whether through SwiftUI, UIKit, or any other mechanism.</p>
<h3>In the Application Module</h3>
<p>The Application layer implements coordinators with full knowledge of the navigation hierarchy:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token attribute atrule">@MainActor</span>
<span class="token attribute atrule">@Observable</span>
<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">GroupsCoordinator</span><span class="token punctuation">:</span> <span class="token class-name">GroupsCoordinator</span><span class="token punctuation">,</span> <span class="token class-name">GroupDetailCoordinator</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> routes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Route</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">var</span> modal<span class="token punctuation">:</span> <span class="token class-name">Modal</span><span class="token operator">?</span>
    
    <span class="token keyword">enum</span> <span class="token class-name">Route</span><span class="token punctuation">:</span> <span class="token class-name">Hashable</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token function">group</span><span class="token punctuation">(</span><span class="token class-name">RouteIdentifier</span><span class="token operator">&lt;</span><span class="token class-name">Group</span><span class="token operator">></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">enum</span> <span class="token class-name">Modal</span><span class="token punctuation">:</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token function">createGroup</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Group</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span><span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token function">createExpense</span><span class="token punctuation">(</span><span class="token class-name">Group</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Expense</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span><span class="token punctuation">)</span>
        
        <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
            <span class="token keyword">switch</span> <span class="token keyword">self</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span>createGroup<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"createGroup"</span></span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span>createExpense<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"createExpense"</span></span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">detail</span><span class="token punctuation">(</span><span class="token keyword">for</span> group<span class="token punctuation">:</span> <span class="token class-name">Group</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        routes<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> group<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">create</span><span class="token punctuation">(</span>didCreate<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token class-name">Group</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        modal <span class="token operator">=</span> <span class="token punctuation">.</span>createGroup <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token keyword">weak</span> <span class="token keyword">self</span><span class="token punctuation">]</span> group <span class="token keyword">in</span>
            <span class="token function">didCreate</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span>
            <span class="token keyword">self</span><span class="token operator">?</span><span class="token punctuation">.</span>modal <span class="token operator">=</span> <span class="token nil constant">nil</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The navigation view lives in the Application layer, managing the entire navigation stack:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">GroupsNavigationView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
    <span class="token attribute atrule">@Bindable</span>
    <span class="token keyword">private</span> <span class="token keyword">var</span> coordinator<span class="token punctuation">:</span> <span class="token class-name">GroupsCoordinator</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span>
        <span class="token class-name">NavigationStack</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> $coordinator<span class="token punctuation">.</span>routes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">GroupsListView</span><span class="token punctuation">(</span>coordinator<span class="token punctuation">:</span> coordinator<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">sheet</span><span class="token punctuation">(</span>item<span class="token punctuation">:</span> $coordinator<span class="token punctuation">.</span>modal<span class="token punctuation">)</span> <span class="token punctuation">{</span> modal <span class="token keyword">in</span>
                    <span class="token keyword">switch</span> modal <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">createGroup</span><span class="token punctuation">(</span><span class="token keyword">let</span> onComplete<span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token class-name">NavigationView</span> <span class="token punctuation">{</span>
                            <span class="token class-name">CreateGroupView</span><span class="token punctuation">(</span>onCreate<span class="token punctuation">:</span> onComplete<span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">createExpense</span><span class="token punctuation">(</span><span class="token keyword">let</span> group<span class="token punctuation">,</span> <span class="token keyword">let</span> onComplete<span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token class-name">NavigationView</span> <span class="token punctuation">{</span>
                            <span class="token class-name">CreateExpenseView</span><span class="token punctuation">(</span>group<span class="token punctuation">:</span> group<span class="token punctuation">,</span> onCreate<span class="token punctuation">:</span> onComplete<span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token punctuation">.</span><span class="token function">navigationDestination</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token class-name">GroupsCoordinator</span><span class="token punctuation">.</span><span class="token class-name">Route</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> route <span class="token keyword">in</span>
                    <span class="token keyword">switch</span> route <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token keyword">let</span> id<span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token class-name">GroupDetailView</span><span class="token punctuation">(</span>group<span class="token punctuation">:</span> id<span class="token punctuation">.</span>value<span class="token punctuation">,</span> coordinator<span class="token punctuation">:</span> coordinator<span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h2>RouteIdentifier: Solving the ViewModel Lifecycle Problem</h2>
<p>Here’s a critical difference between UIKit and SwiftUI that affects architecture: <strong>in UIKit, ViewControllers stayed in memory as long as they were in the navigation stack</strong>. This meant your ViewModels could live as properties of ViewControllers, with guaranteed lifecycle.</p>
<p>SwiftUI Views, however, are merely value types—descriptions of the UI that get recreated constantly. They’re not reliable containers for stateful ViewModels. So where should ViewModels live?</p>
<p>The answer: <strong>inside the coordinator’s route array</strong>. This is where <code class="language-text">RouteIdentifier</code> becomes essential:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">RouteIdentifier</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">Hashable</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value<span class="token punctuation">:</span> <span class="token class-name">T</span>
    <span class="token keyword">let</span> id<span class="token punctuation">:</span> <span class="token class-name">AnyHashable</span>
    
    <span class="token keyword">init</span><span class="token operator">&lt;</span><span class="token constant">ID</span><span class="token punctuation">:</span> <span class="token class-name">Hashable</span><span class="token operator">></span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token constant">ID</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
        <span class="token keyword">self</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token class-name">AnyHashable</span><span class="token punctuation">(</span><span class="token function">id</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">hash</span><span class="token punctuation">(</span>into hasher<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Hasher</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        hasher<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token operator">==</span> <span class="token punctuation">(</span>lhs<span class="token punctuation">:</span> <span class="token class-name">RouteIdentifier</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span><span class="token punctuation">,</span> rhs<span class="token punctuation">:</span> <span class="token class-name">RouteIdentifier</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Bool</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> lhs<span class="token punctuation">.</span>id <span class="token operator">==</span> rhs<span class="token punctuation">.</span>id
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>By wrapping ViewModels (or domain objects) in <code class="language-text">RouteIdentifier</code>, you accomplish two things:</p>
<ol>
<li><strong>Satisfy SwiftUI’s Hashable requirement</strong> for navigation routes</li>
<li><strong>Preserve ViewModels in memory</strong> for the lifetime of the screen</li>
</ol>
<p>When you navigate to a screen, you store the ViewModel in the route:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">detail</span><span class="token punctuation">(</span><span class="token keyword">for</span> group<span class="token punctuation">:</span> <span class="token class-name">Group</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> viewModel <span class="token operator">=</span> <span class="token class-name">GroupDetailViewModel</span><span class="token punctuation">(</span>group<span class="token punctuation">:</span> group<span class="token punctuation">)</span>
    routes<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> viewModel<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>group<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>As long as that route exists in the <code class="language-text">routes</code> array, the ViewModel stays in memory—giving you the same reliable lifecycle you had with UIKit ViewControllers. When the user navigates back and the route is popped, the ViewModel is deallocated naturally.</p>
<p>This solves a fundamental architectural challenge in SwiftUI: where to place stateful objects when Views themselves are transient. The coordinator’s route array becomes the source of truth for screen lifecycle, just as the UIViewController hierarchy was in UIKit.</p>
<h2>Why the Application Layer?</h2>
<p>You might wonder: why should the Application layer own navigation instead of features themselves? The answer lies in understanding what the Application layer uniquely knows.</p>
<h3>Complete Navigation Hierarchy</h3>
<p>The Application layer is responsible for creating the main user interface. This responsibility inherently provides it with complete awareness of:</p>
<ul>
<li>All available screens across all features</li>
<li>The navigation structure and hierarchy</li>
<li>Tab bar organization</li>
<li>Modal presentation contexts</li>
<li>Navigation stack relationships</li>
</ul>
<p>Individual features, by design, should have a narrow view of the world—they know about their own screens and nothing more. They can’t make informed decisions about navigation flows that span multiple features or affect the broader app structure.</p>
<h3>Cross-Feature Navigation Made Trivial</h3>
<p>In highly modularized applications, one of the most common pain points is navigating between features. Imagine you’re in a shopping flow (Feature A) and need to show the user’s profile screen (Feature B). With traditional approaches, you face several bad options:</p>
<ul>
<li>Create a dependency from Feature A to Feature B (breaks modularity)</li>
<li>Use a router with stringly-typed route names (loses type safety)</li>
<li>Implement a messaging system or notification pattern (adds complexity)</li>
<li>Duplicate the profile screen in Feature A (violates DRY)</li>
</ul>
<p>With Application-level coordinators, this becomes trivial. The Application layer already knows about both features:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">MainCoordinator</span><span class="token punctuation">:</span> <span class="token class-name">ShoppingCoordinator</span><span class="token punctuation">,</span> <span class="token class-name">ProfileCoordinator</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function-definition function">showProfile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Can show profile from shopping flow without any coupling</span>
        <span class="token comment">// between shopping and profile features</span>
        routes<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">.</span>profile<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The coordinator naturally bridges features because it lives at the composition root where all features come together. No workarounds, no compromises.</p>
<h3>Team Independence Through Loose Coupling</h3>
<p>This pattern shines in team environments. Different teams can work on different features completely independently:</p>
<p><strong>Team A</strong> (working on Groups feature):</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token comment">// Defines what navigation they need</span>
<span class="token keyword">protocol</span> <span class="token class-name">GroupsCoordinator</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function-definition function">detail</span><span class="token punctuation">(</span><span class="token keyword">for</span> group<span class="token punctuation">:</span> <span class="token class-name">Group</span><span class="token punctuation">)</span>
    <span class="token keyword">func</span> <span class="token function-definition function">showExpense</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> expense<span class="token punctuation">:</span> <span class="token class-name">Expense</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p><strong>Team B</strong> (working on Expenses feature):</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token comment">// Defines their own navigation requirements</span>
<span class="token keyword">protocol</span> <span class="token class-name">ExpensesCoordinator</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function-definition function">editExpense</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> expense<span class="token punctuation">:</span> <span class="token class-name">Expense</span><span class="token punctuation">)</span>
    <span class="token keyword">func</span> <span class="token function-definition function">showParticipants</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p><strong>Integration Team</strong> (Application layer):</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token comment">// Wires everything together</span>
<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">AppCoordinator</span><span class="token punctuation">:</span> <span class="token class-name">GroupsCoordinator</span><span class="token punctuation">,</span> <span class="token class-name">ExpensesCoordinator</span> <span class="token punctuation">{</span>
    <span class="token comment">// Implements both protocols</span>
    <span class="token comment">// Can create flows that span both features</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Teams A and B never need to coordinate on implementation details. They define their contracts (protocols) and work independently. The integration happens once, in the Application layer. This is drastically different from traditional Coordinator patterns with “child coordinators” where parent-child relationships create tight coupling and coordination overhead.</p>
<h3>Not Your Traditional Coordinator Pattern</h3>
<p>It’s crucial to understand: <strong>this is not the classic “Coordinator pattern” with child coordinators and delegation chains</strong>. Those patterns often recreate the same coupling problems they’re trying to solve:</p>
<ul>
<li>Parent coordinators need to know about child coordinators</li>
<li>Starting and stopping child coordinators becomes complex</li>
<li>Memory management of coordinator hierarchies is error-prone</li>
<li>Deep navigation flows require coordinator chains</li>
</ul>
<p>Our approach is fundamentally simpler: features define protocol interfaces, the Application layer implements them. There are no child coordinators, no coordinator hierarchies, no parent-child relationships. Just clean protocol conformance at the composition root.</p>
<h2>Key Benefits</h2>
<h3>1. <strong>Framework Independence</strong></h3>
<p>Features don’t depend on SwiftUI’s navigation APIs. If SwiftUI navigation becomes problematic or we need to support UIKit, we only change the Application layer. The features remain untouched.</p>
<h3>2. <strong>Full Navigation Context</strong></h3>
<p>The Application layer has complete awareness of the navigation hierarchy. It knows about all screens, their relationships, and can make informed decisions about navigation flows—something individual features cannot do.</p>
<h3>3. <strong>Clean Separation of Concerns</strong></h3>
<p>Navigation is a cross-cutting concern that shouldn’t live in feature modules. By delegating it to the Application layer, features stay focused on their core responsibilities: business logic and UI presentation.</p>
<h3>4. <strong>Testability</strong></h3>
<p>Testing navigation becomes straightforward—create a mock coordinator, verify it’s called with the correct parameters, and you’re done. No need to test actual navigation implementation in feature tests.</p>
<h3>5. <strong>Type Safety</strong></h3>
<p>Using enums for routes and modals provides compile-time safety. Impossible states are truly impossible, and refactoring is supported by the compiler.</p>
<h3>6. <strong>Flexibility</strong></h3>
<p>Different features can use different UI patterns (MVVM, TCA, etc.) while sharing the same navigation abstraction. The coordinator pattern adapts to any architecture choice.</p>
<h2>Real-World Example</h2>
<p>In my app, the <code class="language-text">GroupsCoordinator</code> conforms to multiple coordinator protocols—both <code class="language-text">GroupsCoordinator</code> and <code class="language-text">GroupDetailCoordinator</code>. This allows different screens in the same navigation hierarchy to share a single coordinator instance while maintaining their own protocol interfaces:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">GroupsCoordinator</span><span class="token punctuation">:</span> <span class="token class-name">GroupsCoordinator</span><span class="token punctuation">,</span> <span class="token class-name">GroupDetailCoordinator</span> <span class="token punctuation">{</span>
    <span class="token comment">// Implements navigation for both groups list and group detail screens</span>
<span class="token punctuation">}</span></code></pre></div>
<p>This approach scales beautifully as the app grows. New navigation requirements are added as protocol methods, implemented in the coordinator, and features remain blissfully unaware of the implementation details.</p>
<h2>Deep Linking: The Hidden Superpower</h2>
<p>One of the most elegant benefits of this pattern is how naturally it handles deep linking. Since the Application layer owns navigation and has access to all routes, implementing deep links becomes surprisingly straightforward.</p>
<p>Consider a deep link like <code class="language-text">spendid://groups/{groupId}/expenses/{expenseId}</code>. You want to:</p>
<ol>
<li>Open the groups list</li>
<li>Navigate to a specific group detail</li>
<li>Navigate to a specific expense</li>
</ol>
<p>With Application-level navigation, this is trivial:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">GroupsCoordinator</span><span class="token punctuation">:</span> <span class="token class-name">GroupsCoordinator</span><span class="token punctuation">,</span> <span class="token class-name">GroupDetailCoordinator</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function-definition function">handle</span><span class="token punctuation">(</span>deepLink<span class="token punctuation">:</span> <span class="token class-name">DeepLink</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> deepLink <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">groupExpense</span><span class="token punctuation">(</span><span class="token keyword">let</span> groupId<span class="token punctuation">,</span> <span class="token keyword">let</span> expenseId<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment">// Fetch the necessary data</span>
            <span class="token keyword">let</span> group <span class="token operator">=</span> <span class="token function">fetchGroup</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> groupId<span class="token punctuation">)</span>
            <span class="token keyword">let</span> expense <span class="token operator">=</span> <span class="token function">fetchExpense</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> expenseId<span class="token punctuation">)</span>
            
            <span class="token comment">// Build the navigation stack</span>
            routes<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> group<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            routes<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">expense</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> expense<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            
        <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token keyword">let</span> groupId<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">let</span> group <span class="token operator">=</span> <span class="token function">fetchGroup</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> groupId<span class="token punctuation">)</span>
            routes<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> group<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The key insight: you can programmatically build the entire navigation stack. SwiftUI’s <code class="language-text">NavigationStack</code> accepts an array of routes, so pushing multiple screens is just appending to that array. The user sees a properly constructed navigation hierarchy with working back buttons and proper state.</p>
<p>Try implementing this with feature-owned navigation—you’ll quickly find yourself passing deep link data through multiple layers, coordinating between features, and managing complex state. With Application-level coordinators, it’s just another method.</p>
<p>This same capability extends to:</p>
<ul>
<li><strong>Push notifications</strong>: Navigate to specific content when a notification is tapped</li>
<li><strong>Universal links</strong>: Handle web URLs that map to app screens</li>
<li><strong>Shortcuts</strong>: Siri shortcuts that navigate to specific app states</li>
<li><strong>Testing</strong>: Programmatically set up complex navigation states for UI tests</li>
</ul>
<p>All of these become simple coordinator methods rather than complex navigation orchestration.</p>
<h2>State Restoration: Never Lose Context</h2>
<p>Here’s something users love but developers often skip: <strong>state restoration</strong>. When iOS kills your app from memory, users expect to return to exactly where they were. With traditional SwiftUI navigation, implementing this is painful—navigation state lives in multiple places, deeply nested in view hierarchies.</p>
<p>With coordinator-based navigation, state restoration becomes trivial. Why? Because <strong>the coordinator’s route array is already your serializable navigation state</strong>.</p>
<h3>Saving State</h3>
<p>When your app enters the background, simply encode the route identifiers:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">GroupsCoordinator</span><span class="token punctuation">:</span> <span class="token class-name">GroupsCoordinator</span> <span class="token punctuation">{</span>
    <span class="token keyword">func</span> <span class="token function-definition function">saveState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Data</span><span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> routeIds <span class="token operator">=</span> routes<span class="token punctuation">.</span>compactMap <span class="token punctuation">{</span> route <span class="token operator">-></span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token keyword">in</span>
            <span class="token keyword">switch</span> route <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token keyword">let</span> identifier<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"group:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">identifier<span class="token punctuation">.</span>id</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">expense</span><span class="token punctuation">(</span><span class="token keyword">let</span> identifier<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"expense:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">identifier<span class="token punctuation">.</span>id</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">try</span><span class="token operator">?</span> <span class="token class-name">JSONEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>routeIds<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Restoring State</h3>
<p>On app launch, restore the navigation stack by rebuilding the routes array:</p>
<div class="gatsby-highlight" data-language="swift"><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">restoreState</span><span class="token punctuation">(</span>from data<span class="token punctuation">:</span> <span class="token class-name">Data</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">guard</span> <span class="token keyword">let</span> routeIds <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">?</span> <span class="token class-name">JSONDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> from<span class="token punctuation">:</span> data<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> routeId <span class="token keyword">in</span> routeIds <span class="token punctuation">{</span>
        <span class="token keyword">let</span> components <span class="token operator">=</span> routeId<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>separator<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">":"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">guard</span> components<span class="token punctuation">.</span>count <span class="token operator">==</span> <span class="token number">2</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">continue</span> <span class="token punctuation">}</span>
        
        <span class="token keyword">switch</span> components<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">"group"</span></span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token keyword">let</span> group <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchGroup</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">(</span>components<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                routes<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> group<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">"expense"</span></span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token keyword">let</span> expense <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchExpense</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">(</span>components<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                routes<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">expense</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> expense<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>SwiftUI’s <code class="language-text">NavigationStack</code> automatically handles the actual navigation—you just provide the routes array. The user sees their full navigation history restored, with working back buttons and proper state.</p>
<h3>Why This Matters for UX</h3>
<p>State restoration transforms the user experience, especially for utility apps:</p>
<ul>
<li><strong>Finance apps</strong>: Users return to the exact transaction or account they were viewing</li>
<li><strong>Note-taking apps</strong>: Jump back into the note being edited, even deeply nested in folders</li>
<li><strong>Shopping apps</strong>: Resume browsing at the exact product, maintaining cart context</li>
<li><strong>Task managers</strong>: Land on the specific project and task list, preserving workflow</li>
</ul>
<p>With feature-owned navigation, implementing this requires each feature to expose its state, coordinate serialization across modules, and carefully reconstruct view hierarchies. With coordinator-based navigation, it’s just encoding and decoding an array of identifiers—the same approach you’d use for deep linking.</p>
<p>The pattern’s beauty is in its simplicity: one route array, one source of truth, trivial to save and restore. Users never lose context, and you didn’t need to build complex state management machinery to achieve it.</p>
<h2>Conclusion</h2>
<p>The Coordinator Protocol pattern isn’t just about navigation—it’s about properly separating concerns and maintaining architectural boundaries. By keeping navigation implementation details in the Application layer where they belong, features become more focused, testable, and reusable.</p>
<p>What makes this pattern particularly powerful is what it’s NOT:</p>
<ul>
<li>It’s not a hierarchy of parent and child coordinators</li>
<li>It’s not complex coordinator lifecycle management</li>
<li>It’s not features trying to coordinate navigation across module boundaries</li>
</ul>
<p>Instead, it’s refreshingly simple: features declare their navigation needs through protocols, and the Application layer—which uniquely has complete context of the entire app—implements those protocols. This simplicity unlocks capabilities that are difficult or impossible with other approaches:</p>
<ul>
<li>Effortless cross-feature navigation</li>
<li>True team independence in modular codebases</li>
<li>Trivial deep linking and universal link handling</li>
<li>Programmatic navigation for testing and automation</li>
<li>Freedom to change navigation frameworks without touching features</li>
</ul>
<p>The key insight is simple: features should declare <em>what</em> navigation they need, not <em>how</em> to navigate. The Application layer, with its complete understanding of the app’s structure, is the right place to handle the <em>how</em>.</p>
<p>This pattern has proven invaluable in maintaining loose coupling between modules while taking full advantage of SwiftUI’s powerful navigation APIs. It’s a perfect example of how proper abstraction can give you both flexibility and simplicity—and how thinking carefully about where responsibilities belong can eliminate entire categories of problems.</p>
<h2>Example Implementation</h2>
<p>You can see this pattern in action in my <a href="https://github.com/sergdort/ModernCleanArchitectureSwiftUI">ModernCleanArchitectureSwiftUI</a> repository, where I’ve explored this approach with a complete working example.</p></section><hr style="margin-bottom:1.75rem"/><footer><div style="display:flex;align-items:center;margin-bottom:4.375rem"><img src="/static/profile-pic-b6e69452d87f69342835c523035e8b5c.jpg" alt="Serg Dort" style="margin-right:0.875rem;margin-bottom:0;width:3.5rem;height:3.5rem;border-radius:50%"/><p style="margin:0">Written by <a href="https://twitter.com/SergDort">Serg Dort</a>. Say one thing for him: he ships code.</p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li></li><li></li></ul></nav></main><footer>© <!-- -->2026<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.com">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-123633819-1"></script><script>
      
      function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='UA-123633819-1',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-123633819-1', {"anonymize_ip":true,"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/swiftui-navigation-done-right/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-b0ba8eb420d8bdea7383.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-b64fd46fe784f3830d25.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-0c727ae0233d457002f4.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-0945c5151f8079b45dc9.js\"],\"component---src-pages-tags-js\":[\"/component---src-pages-tags-js-c6f0f60e4177e6753c39.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-313e2728512e2c4d868c.js\"],\"component---src-templates-tag-js\":[\"/component---src-templates-tag-js-20a39127c784a2f18684.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="c503c490349be7b6d390";</script><script src="/webpack-runtime-c858cef90ef570b2971c.js" async></script><script src="/app-b0ba8eb420d8bdea7383.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>