{"componentChunkName":"component---src-templates-blog-post-js","path":"/swiftui-navigation-done-right/","result":{"data":{"site":{"siteMetadata":{"title":"iOS Developer in search for meaning üßò‚Äç‚ôÇÔ∏è"}},"markdownRemark":{"id":"4d2739c4-0f36-5dcc-920f-02b28c7fe34f","excerpt":"When building highly modular iOS apps, one challenge stands out: how do you handle navigation without coupling your feature modules to specific implementation‚Ä¶","html":"<p>When building highly modular iOS apps, one challenge stands out: how do you handle navigation without coupling your feature modules to specific implementation details? After experimenting with various approaches, I‚Äôve settled on a pattern that provides both flexibility and testability while keeping concerns properly separated.</p>\n<h2>The Problem with Traditional Navigation</h2>\n<p>In typical SwiftUI apps, navigation often happens directly within feature views. You‚Äôll see <code class=\"language-text\">NavigationStack</code> wrapping views, and navigation state scattered throughout your feature code. While this works for simple apps, it creates several problems:</p>\n<ol>\n<li><strong>Tight coupling</strong>: Features become dependent on SwiftUI‚Äôs navigation APIs</li>\n<li><strong>Limited flexibility</strong>: Changing navigation strategies requires modifying feature code</li>\n<li><strong>Testing difficulties</strong>: Navigation logic becomes harder to test in isolation</li>\n<li><strong>Context limitations</strong>: Individual features lack awareness of the broader navigation hierarchy</li>\n<li><strong>Cross-feature navigation nightmares</strong>: In modularized apps, showing a screen from Feature B within Feature A‚Äôs flow becomes an architectural puzzle, leading to awkward workarounds and feature interdependencies</li>\n</ol>\n<h2>The Coordinator Protocol Pattern</h2>\n<p>My solution delegates all navigation decisions to the Application layer through protocol-based coordinators. Here‚Äôs how it works:</p>\n<h3>In the Feature Module</h3>\n<p>Features define navigation requirements as protocols, without implementation:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token attribute atrule\">@MainActor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">protocol</span> <span class=\"token class-name\">GroupsCoordinator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">detail</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span> group<span class=\"token punctuation\">:</span> <span class=\"token class-name\">SpendidDomain</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Group</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">create</span><span class=\"token punctuation\">(</span>didCreate<span class=\"token punctuation\">:</span> <span class=\"token attribute atrule\">@escaping</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Group</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Void</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Feature views receive coordinators through dependency injection:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">GroupsListView</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">View</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">let</span> coordinator<span class=\"token punctuation\">:</span> <span class=\"token class-name\">GroupsCoordinator</span>\n    \n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">var</span> body<span class=\"token punctuation\">:</span> <span class=\"token keyword\">some</span> <span class=\"token class-name\">View</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">List</span><span class=\"token punctuation\">(</span>groups<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> group <span class=\"token keyword\">in</span>\n            <span class=\"token class-name\">GroupRowView</span><span class=\"token punctuation\">(</span>group<span class=\"token punctuation\">:</span> group<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span>onTapGesture <span class=\"token punctuation\">{</span>\n                    coordinator<span class=\"token punctuation\">.</span><span class=\"token function\">detail</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> group<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">navigationTitle</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"Split The Bill\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Notice that <code class=\"language-text\">GroupsListView</code> <strong>never wraps itself in a NavigationStack</strong>. It simply delegates navigation as a side effect to the coordinator. The view doesn‚Äôt know or care how navigation is implemented‚Äîwhether through SwiftUI, UIKit, or any other mechanism.</p>\n<h3>In the Application Module</h3>\n<p>The Application layer implements coordinators with full knowledge of the navigation hierarchy:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token attribute atrule\">@MainActor</span>\n<span class=\"token attribute atrule\">@Observable</span>\n<span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GroupsCoordinator</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">GroupsCoordinator</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">GroupDetailCoordinator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> routes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Route</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">var</span> modal<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Modal</span><span class=\"token operator\">?</span>\n    \n    <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Route</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Hashable</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> <span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RouteIdentifier</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Group</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">enum</span> <span class=\"token class-name\">Modal</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Identifiable</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> <span class=\"token function\">createGroup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Group</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Void</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">case</span> <span class=\"token function\">createExpense</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Group</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Expense</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Void</span><span class=\"token punctuation\">)</span>\n        \n        <span class=\"token keyword\">var</span> id<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">switch</span> <span class=\"token keyword\">self</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">case</span> <span class=\"token punctuation\">.</span>createGroup<span class=\"token punctuation\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string-literal\"><span class=\"token string\">\"createGroup\"</span></span>\n            <span class=\"token keyword\">case</span> <span class=\"token punctuation\">.</span>createExpense<span class=\"token punctuation\">:</span> <span class=\"token keyword\">return</span> <span class=\"token string-literal\"><span class=\"token string\">\"createExpense\"</span></span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">detail</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span> group<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Group</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        routes<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">:</span> group<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">create</span><span class=\"token punctuation\">(</span>didCreate<span class=\"token punctuation\">:</span> <span class=\"token attribute atrule\">@escaping</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Group</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Void</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        modal <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>createGroup <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">weak</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">]</span> group <span class=\"token keyword\">in</span>\n            <span class=\"token function\">didCreate</span><span class=\"token punctuation\">(</span>group<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">self</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>modal <span class=\"token operator\">=</span> <span class=\"token nil constant\">nil</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The navigation view lives in the Application layer, managing the entire navigation stack:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">struct</span> <span class=\"token class-name\">GroupsNavigationView</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">View</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token attribute atrule\">@Bindable</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> coordinator<span class=\"token punctuation\">:</span> <span class=\"token class-name\">GroupsCoordinator</span>\n    \n    <span class=\"token keyword\">var</span> body<span class=\"token punctuation\">:</span> <span class=\"token keyword\">some</span> <span class=\"token class-name\">View</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">NavigationStack</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">:</span> $coordinator<span class=\"token punctuation\">.</span>routes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token class-name\">GroupsListView</span><span class=\"token punctuation\">(</span>coordinator<span class=\"token punctuation\">:</span> coordinator<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">sheet</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> $coordinator<span class=\"token punctuation\">.</span>modal<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> modal <span class=\"token keyword\">in</span>\n                    <span class=\"token keyword\">switch</span> modal <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">case</span> <span class=\"token punctuation\">.</span><span class=\"token function\">createGroup</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> onComplete<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token class-name\">NavigationView</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token class-name\">CreateGroupView</span><span class=\"token punctuation\">(</span>onCreate<span class=\"token punctuation\">:</span> onComplete<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token keyword\">case</span> <span class=\"token punctuation\">.</span><span class=\"token function\">createExpense</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> group<span class=\"token punctuation\">,</span> <span class=\"token keyword\">let</span> onComplete<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token class-name\">NavigationView</span> <span class=\"token punctuation\">{</span>\n                            <span class=\"token class-name\">CreateExpenseView</span><span class=\"token punctuation\">(</span>group<span class=\"token punctuation\">:</span> group<span class=\"token punctuation\">,</span> onCreate<span class=\"token punctuation\">:</span> onComplete<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">navigationDestination</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">GroupsCoordinator</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Route</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> route <span class=\"token keyword\">in</span>\n                    <span class=\"token keyword\">switch</span> route <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">case</span> <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                        <span class=\"token class-name\">GroupDetailView</span><span class=\"token punctuation\">(</span>group<span class=\"token punctuation\">:</span> id<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span> coordinator<span class=\"token punctuation\">:</span> coordinator<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>RouteIdentifier: Solving the ViewModel Lifecycle Problem</h2>\n<p>Here‚Äôs a critical difference between UIKit and SwiftUI that affects architecture: <strong>in UIKit, ViewControllers stayed in memory as long as they were in the navigation stack</strong>. This meant your ViewModels could live as properties of ViewControllers, with guaranteed lifecycle.</p>\n<p>SwiftUI Views, however, are merely value types‚Äîdescriptions of the UI that get recreated constantly. They‚Äôre not reliable containers for stateful ViewModels. So where should ViewModels live?</p>\n<p>The answer: <strong>inside the coordinator‚Äôs route array</strong>. This is where <code class=\"language-text\">RouteIdentifier</code> becomes essential:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">struct</span> <span class=\"token class-name\">RouteIdentifier</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Hashable</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> value<span class=\"token punctuation\">:</span> <span class=\"token class-name\">T</span>\n    <span class=\"token keyword\">let</span> id<span class=\"token punctuation\">:</span> <span class=\"token class-name\">AnyHashable</span>\n    \n    <span class=\"token keyword\">init</span><span class=\"token operator\">&lt;</span><span class=\"token constant\">ID</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Hashable</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">:</span> <span class=\"token class-name\">T</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">T</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token constant\">ID</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> value\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> <span class=\"token class-name\">AnyHashable</span><span class=\"token punctuation\">(</span><span class=\"token function\">id</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">hash</span><span class=\"token punctuation\">(</span>into hasher<span class=\"token punctuation\">:</span> <span class=\"token keyword\">inout</span> <span class=\"token class-name\">Hasher</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        hasher<span class=\"token punctuation\">.</span><span class=\"token function\">combine</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">static</span> <span class=\"token keyword\">func</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">(</span>lhs<span class=\"token punctuation\">:</span> <span class=\"token class-name\">RouteIdentifier</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> rhs<span class=\"token punctuation\">:</span> <span class=\"token class-name\">RouteIdentifier</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Bool</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> lhs<span class=\"token punctuation\">.</span>id <span class=\"token operator\">==</span> rhs<span class=\"token punctuation\">.</span>id\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>By wrapping ViewModels (or domain objects) in <code class=\"language-text\">RouteIdentifier</code>, you accomplish two things:</p>\n<ol>\n<li><strong>Satisfy SwiftUI‚Äôs Hashable requirement</strong> for navigation routes</li>\n<li><strong>Preserve ViewModels in memory</strong> for the lifetime of the screen</li>\n</ol>\n<p>When you navigate to a screen, you store the ViewModel in the route:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function-definition function\">detail</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span> group<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Group</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> viewModel <span class=\"token operator\">=</span> <span class=\"token class-name\">GroupDetailViewModel</span><span class=\"token punctuation\">(</span>group<span class=\"token punctuation\">:</span> group<span class=\"token punctuation\">)</span>\n    routes<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">:</span> viewModel<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">.</span>group<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>As long as that route exists in the <code class=\"language-text\">routes</code> array, the ViewModel stays in memory‚Äîgiving you the same reliable lifecycle you had with UIKit ViewControllers. When the user navigates back and the route is popped, the ViewModel is deallocated naturally.</p>\n<p>This solves a fundamental architectural challenge in SwiftUI: where to place stateful objects when Views themselves are transient. The coordinator‚Äôs route array becomes the source of truth for screen lifecycle, just as the UIViewController hierarchy was in UIKit.</p>\n<h2>Why the Application Layer?</h2>\n<p>You might wonder: why should the Application layer own navigation instead of features themselves? The answer lies in understanding what the Application layer uniquely knows.</p>\n<h3>Complete Navigation Hierarchy</h3>\n<p>The Application layer is responsible for creating the main user interface. This responsibility inherently provides it with complete awareness of:</p>\n<ul>\n<li>All available screens across all features</li>\n<li>The navigation structure and hierarchy</li>\n<li>Tab bar organization</li>\n<li>Modal presentation contexts</li>\n<li>Navigation stack relationships</li>\n</ul>\n<p>Individual features, by design, should have a narrow view of the world‚Äîthey know about their own screens and nothing more. They can‚Äôt make informed decisions about navigation flows that span multiple features or affect the broader app structure.</p>\n<h3>Cross-Feature Navigation Made Trivial</h3>\n<p>In highly modularized applications, one of the most common pain points is navigating between features. Imagine you‚Äôre in a shopping flow (Feature A) and need to show the user‚Äôs profile screen (Feature B). With traditional approaches, you face several bad options:</p>\n<ul>\n<li>Create a dependency from Feature A to Feature B (breaks modularity)</li>\n<li>Use a router with stringly-typed route names (loses type safety)</li>\n<li>Implement a messaging system or notification pattern (adds complexity)</li>\n<li>Duplicate the profile screen in Feature A (violates DRY)</li>\n</ul>\n<p>With Application-level coordinators, this becomes trivial. The Application layer already knows about both features:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MainCoordinator</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">ShoppingCoordinator</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ProfileCoordinator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showProfile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Can show profile from shopping flow without any coupling</span>\n        <span class=\"token comment\">// between shopping and profile features</span>\n        routes<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>profile<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The coordinator naturally bridges features because it lives at the composition root where all features come together. No workarounds, no compromises.</p>\n<h3>Team Independence Through Loose Coupling</h3>\n<p>This pattern shines in team environments. Different teams can work on different features completely independently:</p>\n<p><strong>Team A</strong> (working on Groups feature):</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token comment\">// Defines what navigation they need</span>\n<span class=\"token keyword\">protocol</span> <span class=\"token class-name\">GroupsCoordinator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">detail</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span> group<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Group</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showExpense</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> expense<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Expense</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Team B</strong> (working on Expenses feature):</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token comment\">// Defines their own navigation requirements</span>\n<span class=\"token keyword\">protocol</span> <span class=\"token class-name\">ExpensesCoordinator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">editExpense</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> expense<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Expense</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">showParticipants</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Integration Team</strong> (Application layer):</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token comment\">// Wires everything together</span>\n<span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppCoordinator</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">GroupsCoordinator</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ExpensesCoordinator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Implements both protocols</span>\n    <span class=\"token comment\">// Can create flows that span both features</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Teams A and B never need to coordinate on implementation details. They define their contracts (protocols) and work independently. The integration happens once, in the Application layer. This is drastically different from traditional Coordinator patterns with ‚Äúchild coordinators‚Äù where parent-child relationships create tight coupling and coordination overhead.</p>\n<h3>Not Your Traditional Coordinator Pattern</h3>\n<p>It‚Äôs crucial to understand: <strong>this is not the classic ‚ÄúCoordinator pattern‚Äù with child coordinators and delegation chains</strong>. Those patterns often recreate the same coupling problems they‚Äôre trying to solve:</p>\n<ul>\n<li>Parent coordinators need to know about child coordinators</li>\n<li>Starting and stopping child coordinators becomes complex</li>\n<li>Memory management of coordinator hierarchies is error-prone</li>\n<li>Deep navigation flows require coordinator chains</li>\n</ul>\n<p>Our approach is fundamentally simpler: features define protocol interfaces, the Application layer implements them. There are no child coordinators, no coordinator hierarchies, no parent-child relationships. Just clean protocol conformance at the composition root.</p>\n<h2>Key Benefits</h2>\n<h3>1. <strong>Framework Independence</strong></h3>\n<p>Features don‚Äôt depend on SwiftUI‚Äôs navigation APIs. If SwiftUI navigation becomes problematic or we need to support UIKit, we only change the Application layer. The features remain untouched.</p>\n<h3>2. <strong>Full Navigation Context</strong></h3>\n<p>The Application layer has complete awareness of the navigation hierarchy. It knows about all screens, their relationships, and can make informed decisions about navigation flows‚Äîsomething individual features cannot do.</p>\n<h3>3. <strong>Clean Separation of Concerns</strong></h3>\n<p>Navigation is a cross-cutting concern that shouldn‚Äôt live in feature modules. By delegating it to the Application layer, features stay focused on their core responsibilities: business logic and UI presentation.</p>\n<h3>4. <strong>Testability</strong></h3>\n<p>Testing navigation becomes straightforward‚Äîcreate a mock coordinator, verify it‚Äôs called with the correct parameters, and you‚Äôre done. No need to test actual navigation implementation in feature tests.</p>\n<h3>5. <strong>Type Safety</strong></h3>\n<p>Using enums for routes and modals provides compile-time safety. Impossible states are truly impossible, and refactoring is supported by the compiler.</p>\n<h3>6. <strong>Flexibility</strong></h3>\n<p>Different features can use different UI patterns (MVVM, TCA, etc.) while sharing the same navigation abstraction. The coordinator pattern adapts to any architecture choice.</p>\n<h2>Real-World Example</h2>\n<p>In my app, the <code class=\"language-text\">GroupsCoordinator</code> conforms to multiple coordinator protocols‚Äîboth <code class=\"language-text\">GroupsCoordinator</code> and <code class=\"language-text\">GroupDetailCoordinator</code>. This allows different screens in the same navigation hierarchy to share a single coordinator instance while maintaining their own protocol interfaces:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GroupsCoordinator</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">GroupsCoordinator</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">GroupDetailCoordinator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Implements navigation for both groups list and group detail screens</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This approach scales beautifully as the app grows. New navigation requirements are added as protocol methods, implemented in the coordinator, and features remain blissfully unaware of the implementation details.</p>\n<h2>Deep Linking: The Hidden Superpower</h2>\n<p>One of the most elegant benefits of this pattern is how naturally it handles deep linking. Since the Application layer owns navigation and has access to all routes, implementing deep links becomes surprisingly straightforward.</p>\n<p>Consider a deep link like <code class=\"language-text\">spendid://groups/{groupId}/expenses/{expenseId}</code>. You want to:</p>\n<ol>\n<li>Open the groups list</li>\n<li>Navigate to a specific group detail</li>\n<li>Navigate to a specific expense</li>\n</ol>\n<p>With Application-level navigation, this is trivial:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GroupsCoordinator</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">GroupsCoordinator</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">GroupDetailCoordinator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">handle</span><span class=\"token punctuation\">(</span>deepLink<span class=\"token punctuation\">:</span> <span class=\"token class-name\">DeepLink</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">switch</span> deepLink <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> <span class=\"token punctuation\">.</span><span class=\"token function\">groupExpense</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> groupId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">let</span> expenseId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\">// Fetch the necessary data</span>\n            <span class=\"token keyword\">let</span> group <span class=\"token operator\">=</span> <span class=\"token function\">fetchGroup</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">:</span> groupId<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">let</span> expense <span class=\"token operator\">=</span> <span class=\"token function\">fetchExpense</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">:</span> expenseId<span class=\"token punctuation\">)</span>\n            \n            <span class=\"token comment\">// Build the navigation stack</span>\n            routes<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">:</span> group<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            routes<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token function\">expense</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">:</span> expense<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            \n        <span class=\"token keyword\">case</span> <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> groupId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">let</span> group <span class=\"token operator\">=</span> <span class=\"token function\">fetchGroup</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">:</span> groupId<span class=\"token punctuation\">)</span>\n            routes<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">:</span> group<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The key insight: you can programmatically build the entire navigation stack. SwiftUI‚Äôs <code class=\"language-text\">NavigationStack</code> accepts an array of routes, so pushing multiple screens is just appending to that array. The user sees a properly constructed navigation hierarchy with working back buttons and proper state.</p>\n<p>Try implementing this with feature-owned navigation‚Äîyou‚Äôll quickly find yourself passing deep link data through multiple layers, coordinating between features, and managing complex state. With Application-level coordinators, it‚Äôs just another method.</p>\n<p>This same capability extends to:</p>\n<ul>\n<li><strong>Push notifications</strong>: Navigate to specific content when a notification is tapped</li>\n<li><strong>Universal links</strong>: Handle web URLs that map to app screens</li>\n<li><strong>Shortcuts</strong>: Siri shortcuts that navigate to specific app states</li>\n<li><strong>Testing</strong>: Programmatically set up complex navigation states for UI tests</li>\n</ul>\n<p>All of these become simple coordinator methods rather than complex navigation orchestration.</p>\n<h2>State Restoration: Never Lose Context</h2>\n<p>Here‚Äôs something users love but developers often skip: <strong>state restoration</strong>. When iOS kills your app from memory, users expect to return to exactly where they were. With traditional SwiftUI navigation, implementing this is painful‚Äînavigation state lives in multiple places, deeply nested in view hierarchies.</p>\n<p>With coordinator-based navigation, state restoration becomes trivial. Why? Because <strong>the coordinator‚Äôs route array is already your serializable navigation state</strong>.</p>\n<h3>Saving State</h3>\n<p>When your app enters the background, simply encode the route identifiers:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GroupsCoordinator</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">GroupsCoordinator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">saveState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Data</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> routeIds <span class=\"token operator\">=</span> routes<span class=\"token punctuation\">.</span>compactMap <span class=\"token punctuation\">{</span> route <span class=\"token operator\">-></span> <span class=\"token class-name\">String</span><span class=\"token operator\">?</span> <span class=\"token keyword\">in</span>\n            <span class=\"token keyword\">switch</span> route <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">case</span> <span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> identifier<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> <span class=\"token string-literal\"><span class=\"token string\">\"group:</span><span class=\"token interpolation-punctuation punctuation\">\\(</span><span class=\"token interpolation\">identifier<span class=\"token punctuation\">.</span>id</span><span class=\"token interpolation-punctuation punctuation\">)</span><span class=\"token string\">\"</span></span>\n            <span class=\"token keyword\">case</span> <span class=\"token punctuation\">.</span><span class=\"token function\">expense</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> identifier<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> <span class=\"token string-literal\"><span class=\"token string\">\"expense:</span><span class=\"token interpolation-punctuation punctuation\">\\(</span><span class=\"token interpolation\">identifier<span class=\"token punctuation\">.</span>id</span><span class=\"token interpolation-punctuation punctuation\">)</span><span class=\"token string\">\"</span></span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">try</span><span class=\"token operator\">?</span> <span class=\"token class-name\">JSONEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>routeIds<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Restoring State</h3>\n<p>On app launch, restore the navigation stack by rebuilding the routes array:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function-definition function\">restoreState</span><span class=\"token punctuation\">(</span>from data<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Data</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">guard</span> <span class=\"token keyword\">let</span> routeIds <span class=\"token operator\">=</span> <span class=\"token keyword\">try</span><span class=\"token operator\">?</span> <span class=\"token class-name\">JSONDecoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">decode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> from<span class=\"token punctuation\">:</span> data<span class=\"token punctuation\">)</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">for</span> routeId <span class=\"token keyword\">in</span> routeIds <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> components <span class=\"token operator\">=</span> routeId<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span>separator<span class=\"token punctuation\">:</span> <span class=\"token string-literal\"><span class=\"token string\">\":\"</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">guard</span> components<span class=\"token punctuation\">.</span>count <span class=\"token operator\">==</span> <span class=\"token number\">2</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">continue</span> <span class=\"token punctuation\">}</span>\n        \n        <span class=\"token keyword\">switch</span> components<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> <span class=\"token string-literal\"><span class=\"token string\">\"group\"</span></span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> group <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchGroup</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>components<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                routes<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">:</span> group<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">case</span> <span class=\"token string-literal\"><span class=\"token string\">\"expense\"</span></span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> expense <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchExpense</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>components<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                routes<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token function\">expense</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">:</span> expense<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">\\</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">break</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>SwiftUI‚Äôs <code class=\"language-text\">NavigationStack</code> automatically handles the actual navigation‚Äîyou just provide the routes array. The user sees their full navigation history restored, with working back buttons and proper state.</p>\n<h3>Why This Matters for UX</h3>\n<p>State restoration transforms the user experience, especially for utility apps:</p>\n<ul>\n<li><strong>Finance apps</strong>: Users return to the exact transaction or account they were viewing</li>\n<li><strong>Note-taking apps</strong>: Jump back into the note being edited, even deeply nested in folders</li>\n<li><strong>Shopping apps</strong>: Resume browsing at the exact product, maintaining cart context</li>\n<li><strong>Task managers</strong>: Land on the specific project and task list, preserving workflow</li>\n</ul>\n<p>With feature-owned navigation, implementing this requires each feature to expose its state, coordinate serialization across modules, and carefully reconstruct view hierarchies. With coordinator-based navigation, it‚Äôs just encoding and decoding an array of identifiers‚Äîthe same approach you‚Äôd use for deep linking.</p>\n<p>The pattern‚Äôs beauty is in its simplicity: one route array, one source of truth, trivial to save and restore. Users never lose context, and you didn‚Äôt need to build complex state management machinery to achieve it.</p>\n<h2>Conclusion</h2>\n<p>The Coordinator Protocol pattern isn‚Äôt just about navigation‚Äîit‚Äôs about properly separating concerns and maintaining architectural boundaries. By keeping navigation implementation details in the Application layer where they belong, features become more focused, testable, and reusable.</p>\n<p>What makes this pattern particularly powerful is what it‚Äôs NOT:</p>\n<ul>\n<li>It‚Äôs not a hierarchy of parent and child coordinators</li>\n<li>It‚Äôs not complex coordinator lifecycle management</li>\n<li>It‚Äôs not features trying to coordinate navigation across module boundaries</li>\n</ul>\n<p>Instead, it‚Äôs refreshingly simple: features declare their navigation needs through protocols, and the Application layer‚Äîwhich uniquely has complete context of the entire app‚Äîimplements those protocols. This simplicity unlocks capabilities that are difficult or impossible with other approaches:</p>\n<ul>\n<li>Effortless cross-feature navigation</li>\n<li>True team independence in modular codebases</li>\n<li>Trivial deep linking and universal link handling</li>\n<li>Programmatic navigation for testing and automation</li>\n<li>Freedom to change navigation frameworks without touching features</li>\n</ul>\n<p>The key insight is simple: features should declare <em>what</em> navigation they need, not <em>how</em> to navigate. The Application layer, with its complete understanding of the app‚Äôs structure, is the right place to handle the <em>how</em>.</p>\n<p>This pattern has proven invaluable in maintaining loose coupling between modules while taking full advantage of SwiftUI‚Äôs powerful navigation APIs. It‚Äôs a perfect example of how proper abstraction can give you both flexibility and simplicity‚Äîand how thinking carefully about where responsibilities belong can eliminate entire categories of problems.</p>\n<h2>Example Implementation</h2>\n<p>You can see this pattern in action in my <a href=\"https://github.com/sergdort/ModernCleanArchitectureSwiftUI\">ModernCleanArchitectureSwiftUI</a> repository, where I‚Äôve explored this approach with a complete working example.</p>","frontmatter":{"title":"SwiftUI Navigation Done Right","date":"January 12, 2026"}},"previous":null,"next":{"fields":{"slug":"/efficient-pr-reviews/"},"frontmatter":{"title":"Efficient PR reviews"}}},"pageContext":{"id":"4d2739c4-0f36-5dcc-920f-02b28c7fe34f","slug":"/swiftui-navigation-done-right/","previousPostId":null,"nextPostId":"a8154907-905b-597d-abd1-8521d10ff9fa"}},"staticQueryHashes":["63159454"],"slicesMap":{}}